<div ignore="true">
    <!-- Les différents contrôles de base -->
    <!-- les textbox -->
    <template match="//field[@type='text']" name="" type="" title="" class="" value="">
        <label if="'$title'" class="text $class" for="{autoId()}">$title</label>
        <input 
            type="text" 
            class="text $class" 
            id="{lastId()}" 
            name="$name" 
            value="$value" 
            title="$title">
            <!-- Plus tous les autres attributs donnés lors de l'appel -->
            {select('@*')}
        </input>
        <!-- Le contenu du tag -->
        {select('node()')}
    </template>
            
    
    <!-- textlist : liste de textbox -->
    <template match="//field[@type='textlist']" type="" title="" class="" name="" src="">
        <label if="'$title'" class="textlist $class">$title</label>
        <div class="textlist $class">
            <loop on="$src" as="$line, $record">
                <label class="text $class" for="$name$line" >{$record['label']}</label>
                    <input
                        type="text"
                        class="text $class"
                        id="$name$line"
                        name="$name" />
            </loop>
        </div>
    </template>
    
    
    <!-- les checkbox -->
    <template match="//field[@type='checkbox']" name="" type="" title="" class="" value="">
        <fill values="$$name" code='checked="checked"' separator="$sep">
            <input
                type="checkbox"
                class="check $class"
                id="{autoId()}"
                name="$name"
                value="$value">
                {select('@*')}
                </input>
            </fill>
            <label if="'$title'" class="check $class" for="{lastId()}">$title</label>
            <!-- Le contenu du tag -->
            {select('node()')}
    </template>
    
    
    <!-- checklist : liste de cases à cocher -->
    <template match="//field[@type='checklist']" type="" title="" class="" name="" src="">
        <label if="'$title'" class="checklist $class">$title</label>
        <div class="checklist $class">
            <fill values="$name">
                <loop on="$src" as="$line, $record">
                    <span class="check $class">
                        <input
                            type="checkbox"
                            class="check $class"
                            id="$name$line"
                            name="$name"
                            value="{$record['code']}" />
                        <label class="check $class" for="$name$line" >{$record['label']}</label>
                    </span>
                </loop>
            </fill>
        </div>
    </template>
    
    
    <!-- les boutons radio -->
    <template match="//field[@type='radio']" name="" type="" title="" class="" value="">
        <fill values="$$name" code='selected="selected"' separator="$sep">
            <input
                type="radio"
                class="radio $class"
                id="{autoId()}"
                name="$name"
                value="$value">
                {select('@*')}
            </input>
        </fill>
        <label if="'$title'" class="radio $class" for="{lastId()}">$title</label>
        <!-- Le contenu du tag -->
        {select('node()')}
    </template>
    
    
    <!-- radiolist : liste de boutons radio -->
    <template match="//field[@type='radiolist']" type="" title="" class="" name="" src="">
        <label if="'$title'" class="radiolist $class">$title</label>
        <div class="radiolist $class">
            <fill values="$name">
                <loop on="$src" as="$line, $record">
                    <span class="radio class">
                        <input
                            type="radio"
                            class="radio $class"
                            id="$name$line"
                            name="$name"
                            value="{$record['code']}" />
                        <label class="radio $class" for="$name$line" >{$record['label']}</label>
                    </span>
                </loop>
            </fill>
        </div>
    </template>
    
    
    <!-- les zones de texte textarea -->
    <template match="//field[@type='textarea']" name="" type="" title="" class="" cols="" rows="">
        <label if="'$title'" class="textarea $class" for="{autoId()}">$title</label>
        <textarea
            class="textarea $class"
            name="$name"
            title="$title"
            cols="$cols"
            rows="$rows"
            id="{lastId()}">{select('@*')}{select('node()')}</textarea>
    </template>
    
    
    <!-- les listes de textarea -->
    <template match="//field[@type='textarealist']" type="" title="" class="" name="" src="" cols="" rows="">
        <label if="'$title'" class="textarealist $class">$title</label>
        <div class="textarealist $class">
            <loop on="$src" as="$line, $record">
                <label class="textarea $class" for="$name$line" >{$record['label']}</label>
                <textarea
                    class="text $class"
                    id="$name$line"
                    name="$name"
                    cols="$cols"
                    rows="$rows"> </textarea>
            </loop>
        </div>
    </template>
    
    
    <!-- bouton submit -->
    <template match="//field[@type='submit']" name="" type="" class="" value="">
        <input
            type="submit"
            class="submit $class"
            name="$name"
            value="$value">
            {select('@*')}
        </input>
        <!-- Le contenu du tag s'il y en a un -->
        {select('node()')} 
    </template>
    
    
    <!-- bouton reset -->
    <template match="//field[@type='reset']" name="" type="" class="" value="">
        <input
            type="reset"
            class="reset $class"
            name="$name"
            value="$value">
            {select('@*')}
        </input>
        <!-- Le contenu du tag s'il y en a un -->
        {select('node()')} 
    </template>
    
    
    <!-- une zone de saisie de mot de passe -->
    <template match="//field[@type='password']" name="" type="" title="" class="" value="">
        <label if="'$title'" class="text $class" for="{autoId()}">$title</label>
        <input
            type="password"
            class="text $class"
            name="$name"
            value="$value"
            id="{lastId()}">
            {select('@*')}  <!-- Eventuellement, les attributs donnés en plus -->
        </input>
        <!-- Le contenu du tag s'il y en a un -->
        {select('node()')} 
    </template>
    
    
    <!-- fichier à uploader -->
    <template match="//field[@type='file']" type="" name="" title="" class="" value="">
        <label if="'$title'" class="file $class" for="{autoId()}">$title</label>
        <input
            type="file"
            class="file $class"
            name="$name"
            value="$value"
            id="{lastId()}">
            {select('@*')}  <!-- Eventuellement, les attributs donnés en plus -->
        </input>
        {select('node()')}
    </template>
        
    
    <!-- filelist : les listes de fichiers à uploader -->
    <template match="//field[@type='filelist']" type="" title="" class="" name="" src="">
        <label if="'$title'" class="filelist $class">$title</label>
        <div class="filelist $class">
            <loop on="$src" as="$line, $record">
                <label class="file $class" for="$name$line" >{$record['label']}</label>
                    <input
                        type="file"
                        class="file $class"
                        id="$name$line"
                        name="$name" />
            </loop>
        </div>
    </template>
    
    
    <!-- select box
    paramètre src : la source de données pour les options de la select box
    TODO : à enlever ? paramètre sep : l'éventuel séparateur utilisé dans la table pour séparer les différentes valeurs d'un champ
    emptylabel (true/false) indique si la liste doit contenir un une valeur vide (-) au chargement de la page
    Remarque : si 'multiple=true' est spécifié lors de l'appel, une liste à sélection multiple est générée-->
    <template match="//field[@type='select']" name="" type="" title="" class="" size="" emptylabel="" src="" sep="" >
        <label if="'$title'" class="select $class" for="{autoId()}">$title</label>
        <input type="hidden" name="$name" value="" />
        <fill values="$$name" code='selected="selected"' separator="$sep">
            <select
                class="select $class"
                id="{lastId()}"
                name="$name"
                size="$size">
                {select('@*')}
                <option
                    if="'$emptylabel'"
                    value=""
                    id="{lastId()}-0">
                    $emptylabel
                </option>
                <loop on="$src" as="$line, $record">
                    <option value="{$record['code']}" id="{lastId()}-{$record['line']}">{$record['label']}</option>
                </loop>
            </select>
        </fill>
    </template>
    
    
    
    <!-- conteneur pour d'autres contrôles -->
    <!-- TODO : remettre name="div" ? -->
    <template match="//field[@type='div']" type="" name="" title="" class="">
        <label if="'$title'" class="div $class" for="{autoId()}">$title</label>
        <div id="{lastId()}" class="div $class">{select('@*|node()')}</div>
    </template>
</div>