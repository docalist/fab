<!-- 

autoroute.html

Ce fichier contient des templates match qui permettent de transformer 
automatiquement les urls présentes dans les tags a, img, etc. en fonction des
routes définies dans l'application.

Seules les urls qui commencent par un '/' sont routées

- 10/01/07, DM+YL : création du fichier

 -->

<!--a : destinations des liens-->
<!--<template match="//a[starts-with(@href,'/')]" href="">-->
<!--    <a href="{Routing::linkFor('$href')}">{select('@*|node()')}</a>-->
<!--</template>-->

<template match="//*[local-name(.)='a' and starts-with(@href,'/')]" href="">
    <a href="{Routing::linkFor('$href')}">{select('@*|node()')}</a>
</template>
<!--
la première version ne fonctionne pas si on a un namespace
cf http://lists.xml.org/archives/xml-dev/200107/msg01126.html
-->


<!--img: sources des images-->
<!--<template match="//img[starts-with(@src,'/')]" src="">-->
<!--    <img src="{Routing::linkFor('$src')}">{select('@*|node()')}</img>-->
<!--</template>-->

<template match="//*[local-name(.)='img' and starts-with(@src,'/')]" src="">
    <img src="{Routing::linkFor('$src')}">{select('@*|node()')}</img>
</template>

<!--form: action du formulaire-->
<template match="//form[starts-with(@action,'/')]" action="">
    <form action="{Routing::linkFor('$action')}">{select('@*|node()')}</form>
</template>

<!--frame: source du cadre-->
<template match="//frame[starts-with(@src,'/')]" src="">
    <frame src="{Routing::linkFor('$src')}">{select('@*|node()')}</frame>
</template>

<!--iframe: source du cadre-->
<template match="//iframe[starts-with(@src,'/')]" src="">
    <iframe src="{Routing::linkFor('$src')}">{select('@*|node()')}</iframe>
</template>

<!--favicon: source de l'icone-->
<!--<template match="//link[@rel='icon' and starts-with(@href,'/')]" href="">-->
<!--    <link href="{Routing::linkFor('$href')}">{select('@*|node()')}</link>-->
<!--</template>-->
<template match="//*[local-name(.)='link' and starts-with(@href,'/')]" href="">
    <link href="{Routing::linkFor('$href')}">{select('@*|node()')}</link>
</template>
